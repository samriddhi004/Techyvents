<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Event</title>
    <!-- <link rel="stylesheet" href="/path/to/your/styles.css">  Include your stylesheets here -->
    <!-- Quill styles -->
    <script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

</head>
<body>
    
    <!-- Include Navbar from partial -->
    <%- include('partials/navbar') %>

    <div class="container">
        <h1>Create New Event</h1>
        
        <!-- Form for creating an event -->
        <form action="/create-event" method="POST" enctype="multipart/form-data" onsubmit="alert('Form submitted!');">
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputEventTitle">Event Title</label>
                    <input type="text" class="form-control" id="inputEventTitle" placeholder="Enter event title" name="title" required>
                </div>
                <!-- <div class="form-group col-md-6">
                    <label for="inputDescription">Description</label>
                    <input type="text" class="form-control" id="inputDescription" placeholder="Enter event description" name="description" required>
                </div> -->
                <div class="form-group col-md-6">
                <label for="inputDescription">Description</label>
                <div id="editor-container" style="height: 200px; border: 1px solid #ced4da;"></div>
                <input type="hidden" class="form-control" id="inputDescription" name="description" required> <!-- Hidden input to store Quill content -->
                </div>


                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="inputCategories">Categories</label>
                        <select id="inputCategories" class="form-control" name="category" required>
                            <option selected disabled>Choose...</option>
                            <option value="ai_ml">AI/ML</option>
                            <option value="cloud">Cloud</option>
                            <option value="web_development">Web Development</option>
                            <option value="data_science">Data Science</option>
                            <option value="cyber_security">Cyber Security</option>
                            <option value="blockchain">Blockchain</option>
                            <option value="iot">IoT</option>
                            <option value="mobile_development">Mobile Development</option>
                            <option value="ux_ui_design">UX/UI Design</option>
                            <option value="devops">DevOps</option>
                            <option value="gaming">Gaming</option>
                            <option value="healthcare_tech">Healthcare Tech</option>
                            <option value="fintech">FinTech</option>
                            <option value="education_tech">Education Tech</option>
                            <option value="coding_competition">Coding Competition</option>
                            <option value="hackathon">Hackathon</option>
                        </select>
                    </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputStartDateTime">Start Date and Time</label>
                    <input type="datetime-local" class="form-control" id="inputStartDateTime" name="startdateTime" required>
                </div>
                <div class="form-group col-md-6">
                    <label for="inputEndDateTime">End Date and Time</label>
                    <input type="datetime-local" class="form-control" id="inputEndDateTime" name="enddateTime" required>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputAddress">Address</label>
                    <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St" name="address" required>
                </div>
                <div class="form-group col-md-6">
                    <label for="inputLandmark">Landmark</label>
                    <input type="text" class="form-control" id="inputLandmark" placeholder="e.g., Near Central Park" >
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputVenue">Venue</label>
                    <input type="text" class="form-control" id="inputVenue" placeholder="Enter venue name" name="venue" required>
                </div>
                <div class="form-group">
                    <label for="image">Upload Event Image</label>
                    <input type="file" class="form-control" id="image" name="image" accept="image/*">
                </div>
                <div class="form-group col-md-4">
                    <label for="inputEventMode">Event Mode</label>
                    <select id="inputEventMode" class="form-control" name="eventMode" required>
                        <option selected disabled>Choose...</option>
                        <option value="onsite">On-site</option>
                        <option value="online">Online</option>
                        <option value="hybrid">Hybrid</option>
                    </select>
                </div>
                <div class="form-group col-md-4">
                    <label for="inputPricing">Pricing</label>
                    <select id="inputPricing" class="form-control" name="pricing" required>
                        <option selected disabled>Choose...</option>
                        <option value="free">Free</option>
                        <option value="paid">Paid</option>
                    </select>
                </div>
                <div class="form-row">
                    <div id="ticketPriceGroup" class="form-group col-md-6" style="display: none;">
                        <label for="inputTicketPrice">Ticket Price</label>
                        <input type="number" class="form-control" id="inputTicketPrice" name="ticketPrice" placeholder="Enter ticket price" required>
                    </div>
                </div>
            </div>
                <div class="form-group col-md-6">
                    <label for="inputRegistrationLink">Registration Link</label>
                    <input type="url" class="form-control" id="inputRegistrationLink" name="registrationLink" placeholder="Enter registration URL" required>
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputOrganizers">Organizers</label>
                    <input type="text" class="form-control" id="inputOrganizers" name="organizer" placeholder="Enter organizer names" required>
                </div>
            </div>
            <div class="form-group">
                <label for="inputKeywords">Keywords</label>
                <input type="text" class="form-control" id="inputKeywords" name="keywords" placeholder="Enter keywords separated by commas">
            </div>
            <div class="form-group">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="gridCheck" >
                    <label class="form-check-label" for="gridCheck">
                        I agree to the terms and conditions
                    </label>
                </div>
            </div>
            
            <button type="submit" class="btn btn-primary">Create Event</button>
        </form>
    </div>
    
    <script>
            // Get references to the pricing select element and the ticket price input group
const pricingSelect = document.getElementById('inputPricing');
const ticketPriceGroup = document.getElementById('ticketPriceGroup');
const ticketPriceInput = document.getElementById('inputTicketPrice');

// Function to toggle the visibility of the ticket price input group
function toggleTicketPrice() {
    if (pricingSelect.value === 'paid') {
        ticketPriceGroup.style.display = 'block';
        ticketPriceInput.setAttribute('required', 'required');  // Set required attribute
    } else {
        ticketPriceGroup.style.display = 'none';
        ticketPriceInput.removeAttribute('required');  // Remove required attribute
    }
}

// Attach the change event to the pricing select element
pricingSelect.addEventListener('change', toggleTicketPrice);

// Call the function on page load to ensure the correct state
window.onload = function() {
    toggleTicketPrice();
};

const quill = new Quill('#editor-container', {
        theme: 'snow',
        modules: {
            toolbar: [
                [{ 'header': [1, 2, false] }],
                ['bold', 'italic', 'underline'],
                ['link', 'image'],
                ['clean']
            ]
        }
    });

    // When the form is submitted, copy the content from Quill to the hidden input
    const form = document.querySelector('form'); // Adjust this to your actual form selector
    form.addEventListener('submit', () => {
        const descriptionInput = document.getElementById('inputDescription');
        descriptionInput.value = quill.root.innerHTML; // Set the hidden input's value to Quill's HTML content
    });
        
            



    </script>
</body>
</html>
